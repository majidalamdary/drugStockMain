@using DrugStockWeb.Models.Constancts
@using DrugStockWeb.Utitlities
@model List<DrugStockWeb.Models.Account.OnlineUser>
<div class="card-body p-0">
    <table class="table table-striped table-responsive-sm text-center">
        <thead>
            <tr>
                <th>نام</th>
                <th>نام خانودگی</th>
                <th>نام کاربری</th>
                <th>موبایل</th>
                <th>واحد مربوطه</th>
                <th>نقش</th>
                <th>روش احراز هویت</th>
                <th>زمان ورود</th>
                <th>آخرین فعالیت</th>
                <th>آخرین ورود ناموفق</th>
                <th>مرورگر</th>
                <th>وضعیت</th>
                <th>عملیات</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>

                    <td>@(item.User.FirstName)</td>
                    <td>@(item.User.LastName)</td>
                    <td>@(item.User.UserName)</td>
                    <td>@(item.User.Mobile)</td>
                    <td>@(item.User.Department.Title)</td>
                    <td>
                        @if (item.User.Roles.Count > 0)
                        {
                            if (item.User.Roles != null)
                            {
                                @item.User.Roles.FirstOrDefault().Role.Name
                            }
                        }
                        </td>
                    <td>@((!ViewBag.AuthentiocationMode)?"نام کاربری/رمز عبور":"نام کاربری/رمزعبور و احراز هویت دو مرحله ای")</td>

                    <td>@item.LoginDateTime.ToPersianString(PersianDateTimeFormat.DateTime)</td>
                    <td>@item.LastActivityDateTime.ToPersianString(PersianDateTimeFormat.DateTime)</td>
                    <td>@item.LastFailedDateTime.ToPersianString(PersianDateTimeFormat.DateTime)</td>

                    <td>@item.Browser</td>
                    <td>@item.User.UserStatus.Title</td>
                    <td>
                        <div>
                            <a data-toggle="modal" data-target="#DeleteConfirmationModal" onclick="confirmLogOutModalForUser('@item.Id')" class="btn btn-twitter shadow btn-xs sharp" style="width: 120px;"> خروج از حساب <i style="color: #fff; cursor: pointer" class="fa fa-check"></i></a>

                            @* <a data-modal- class="btn btn-primary" data-toggle="modal" data-target="#DeleteConfimationModal" data-attr="http://127.0.0.1:8000/admin2/driver/delete/106" class="btn btn-danger shadow btn-xs sharp"><i style="color: #fff; cursor: pointer" class="fa fa-trash"></i></a> *@

                        </div>

                    </td>
                </tr>
            }
        </tbody>
    </table>


</div>
