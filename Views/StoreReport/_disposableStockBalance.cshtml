@using DrugStockWeb.Utitlities
@model System.Collections.Generic.List<DrugStockWeb.ViewModels.StoreReport.StockBalanceProductListViewModel>
<div class="card-body p-0">
    <table class="table table-striped table-responsive-sm text-center">
        <thead>
            <tr>
                <th> گروه</th>
                <th>نام محصول</th>
                <th>کد ژنریک</th>
                @* <th>نزدیک ترین تاریخ انقضا</th> *@
                <th>موجودی</th>
                <th>عملیات</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>


                    <td>@(item.ProductGroupTitle )</td>
                    <td>@(item.ProductTitle )</td>
                    <td>@(item.ProductGenericCode )</td>
                    @* <td> *@
                    @*     @{ *@
                    @*         var mdl = item.Product.StoreReceiptDetails.OrderBy(p => p.ExpireDate).FirstOrDefault(); *@
                    @*         string date = ""; *@
                    @*         if (mdl != null) *@
                    @*         { *@
                    @*             date = mdl.ExpireDate.ToShamsi(PersianDateTimeFormat.Date); *@
                    @*         } *@
                    @* *@
                    @*         <label>@date</label>; *@
                    @*     } *@
                    @* </td> *@
                    <td>@item.RemainingCount</td>
                    <td>
                        <div>
                            <a href="@Url.Action("DisposableProductCardex",new {id=item.ProductId,disposableStoreId=item.DisposableStoreId})" class="btn btn-dark shadow btn-xs sharp mr-1 " style="width: 150px;">نمایش کاردکس <i class="fa fa-list" style="cursor: pointer; color: white"></i></a>

                            @* <a href="@Url.Action("CreateManufacture/"+item.Id)" class="btn btn-success shadow btn-xs sharp mr-1"><i class="fa fa-edit" style="cursor: pointer; color: white"></i></a> *@
                            @* <a data-toggle="modal" data-target="#DeleteConfirmationModal" onclick="confirmDeleteModal('@item.Id')" class="btn btn-danger shadow btn-xs sharp"><i style="color: #fff; cursor: pointer" class="fa fa-trash"></i></a> *@
                            @* <a data-modal- class="btn btn-primary" data-toggle="modal" data-target="#DeleteConfimationModal" data-attr="http://127.0.0.1:8000/admin2/driver/delete/106" class="btn btn-danger shadow btn-xs sharp"><i style="color: #fff; cursor: pointer" class="fa fa-trash"></i></a> *@

                        </div>

                    </td>
                </tr>
            }
        </tbody>
    </table>
    <div class="d-flex justify-content-center">
        <nav class="table-responsive">
            <ul class="pagination justify-content-center d-flex flex-wrap">


                @if (ViewBag.Page > 1)
                {
                    <li class="page-item">
                        <a class="page-link" onclick="SearchProductBalance(1)">اولین</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" onclick="SearchProductBalance(@(ViewBag.Page - 1))">قبلی</a>
                    </li>
                }

                @for (int i = 1; i <= ViewBag.PageCount; i++)

                {
                    <li class="page-item @(i == ViewBag.Page ? "active" : "")">
                        <a class="page-link" onclick="SearchProductBalance(@i);">@i</a>
                    </li>
                }

                @if (ViewBag.Page < ViewBag.PageCount)
                {
                    <li class="page-item">
                        <a class="page-link" onclick="SearchProductBalance(@(ViewBag.Page + 1))">بعدی</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" onclick="SearchProductBalance(@(ViewBag.PageCount))">آخرین</a>
                    </li>
                }
            </ul>
        </nav>
    </div>


</div>

